<!DOCTYPE html>
<html lang="zh-CN">
{% load static %}
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- 上述3个meta标签*必须*放在最前面，任何其他内容都*必须*跟随其后！ -->
    <meta name="description" content="">
    <meta name="author" content="">
    <link rel="icon" href="../../favicon.ico">

    <title>{% block title %}autoCN自动化接口平台{% endblock %}</title>

    <!-- Bootstrap core CSS -->
    {#    <link href="https://cdn.bootcss.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet">#}
    <link href="/static/css/bootstrap.min.css" rel="stylesheet">

    <!-- IE10 viewport hack for Surface/desktop Windows 8 bug -->
    <link href="/static/css/ie10-viewport-bug-workaround.css" rel="stylesheet">

    <!-- Custom styles for this template -->
    <link href="/static/css/dashboard.css" rel="stylesheet">

    <!-- Just for debugging purposes. Don't actually copy these 2 lines! -->
    <!--[if lt IE 9]><script src="../../assets/js/ie8-responsive-file-warning.js"></script><![endif]-->
    <script src="/static/js/ie-emulation-modes-warning.js"></script>

    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
      <script src="https://cdn.bootcss.com/html5shiv/3.7.3/html5shiv.min.js"></script>
      <script src="https://cdn.bootcss.com/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->
    <script src="/static/js/jquery.min.js"></script>
    <script>window.jQuery || document.write('<script src="/static/js/jquery.min.js"><\/script>')</script>
    <script type="text/javascript" src="/static/js/echarts.min.js"></script>

</head>

<body>

<nav class="navbar navbar-inverse navbar-fixed-top">
    <div class="container-fluid">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar"
                    aria-expanded="false" aria-controls="navbar">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="#">autoCN接口自动化测试平台</a>
        </div>
        <div id="navbar" class="navbar-collapse collapse">
            <ul class="nav navbar-nav navbar-right">
                <li><a href="#">Dashboard</a></li>
                <li><a href="#">Settings</a></li>
                <li><a href="#">Profile</a></li>
                <li><a href="#">Help</a></li>
            </ul>
            <form class="navbar-form navbar-right">
                <input type="text" class="form-control" placeholder="Search...">
            </form>
        </div>
    </div>
</nav>

<div class="container-fluid">
    <div class="row">
        <div class="col-sm-3 col-md-2 sidebar">
            <ul class="nav nav-sidebar">
                <li class="active"><a href="#">看板<span class="sr-only">(current)</span></a></li>
                <li><a href="#">每日构建</a></li>
                <li><a href="#">Analytics</a></li>
                <li><a href="#">Export</a></li>
            </ul>
            <ul class="nav nav-sidebar">
                <li><a href="">Nav item</a></li>
                <li><a href="">Nav item again</a></li>
                <li><a href="">One more nav</a></li>
                <li><a href="">Another nav item</a></li>
                <li><a href="">More navigation</a></li>
            </ul>
            <ul class="nav nav-sidebar">
                <li><a href="">Nav item again</a></li>
                <li><a href="">One more nav</a></li>
                <li><a href="">Another nav item</a></li>
            </ul>
        </div>
        <div class="col-sm-9 col-sm-offset-3 col-md-10 col-md-offset-2 main">
            <h1 class="page-header">Dashboard</h1>
            <div class="text-right">
                <button type="button" class="btn btn-primary">失败原因汇总数据</button>
                <button type="button" class="btn btn-success">获取最新数据</button>
                <button type="button" class="btn btn-info">（一般信息）Info</button>
            </div>

{#            <div class="row placeholders">#}
{#                <div class="col-xs-6 col-sm-3 placeholder">#}
{#                    <img src="data:image/gif;base64,R0lGODlhAQABAIAAAHd3dwAAACH5BAAAAAAALAAAAAABAAEAAAICRAEAOw=="#}
{#                         width="200" height="200" class="img-responsive" alt="Generic placeholder thumbnail">#}
{#                    <h4>Label</h4>#}
{#                    <span class="text-muted">Something else</span>#}
{#                </div>#}
{#                <div class="col-xs-6 col-sm-3 placeholder">#}
{#                    <img src="data:image/gif;base64,R0lGODlhAQABAIAAAHd3dwAAACH5BAAAAAAALAAAAAABAAEAAAICRAEAOw=="#}
{#                         width="200" height="200" class="img-responsive" alt="Generic placeholder thumbnail">#}
{#                    <h4>Label</h4>#}
{#                    <span class="text-muted">Something else</span>#}
{#                </div>#}
{#                <div class="col-xs-6 col-sm-3 placeholder">#}
{#                    <img src="data:image/gif;base64,R0lGODlhAQABAIAAAHd3dwAAACH5BAAAAAAALAAAAAABAAEAAAICRAEAOw=="#}
{#                         width="200" height="200" class="img-responsive" alt="Generic placeholder thumbnail">#}
{#                    <h4>Label</h4>#}
{#                    <span class="text-muted">Something else</span>#}
{#                </div>#}
{#                <div class="col-xs-6 col-sm-3 placeholder">#}
{#                    <img src="data:image/gif;base64,R0lGODlhAQABAIAAAHd3dwAAACH5BAAAAAAALAAAAAABAAEAAAICRAEAOw=="#}
{#                         width="200" height="200" class="img-responsive" alt="Generic placeholder thumbnail">#}
{#                    <h4>Label</h4>#}
{#                    <span class="text-muted">Something else</span>#}
{#                </div>#}
{#            </div>#}

            <div class="row" id="tab1">

                <div style="height: 410px;min-height: 100px;width:50%;margin: 0 auto" id="mychartmain" class="col-md-6">
                    <script type="text/javascript">
                        var mychart = echarts.init(document.getElementById("mychartmain"))
                        option = {
                            xAxis: {
                                type: 'category',
                                boundaryGap: false,
                                data: ['Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat', 'Sun']
                            },
                            yAxis: {
                                type: 'value'
                            },
                            series: [{
                                data: [820, 932, 901, 934, 1290, 1330, 1320],
                                type: 'line',
                                areaStyle: {}
                            }]
                        };
                        mychart.showLoading();
                        var rate = [];
                        var id = []
                        $.ajax({
                            type: "get",
                            async: true,
                            url: "/returnRate/",
                            data: {},
                            dataType: "json",
                            success: function (result) {
                                if (result != null && result.length > 0) {
                                    for (var i = 0; i < result.length; i++) {
                                        rate.push(result[i].rate);
                                        id.push(result[i].id);
                                    }
                                    mychart.hideLoading();
                                    mychart.setOption({
                                        title: {
                                            text: '接口测试通过率'
                                        },
                                        legend: {
                                            data: ['通过率']
                                        },
                                        xAxis: {
                                            data: id
                                        },
                                        yAxis: [
                                            {
                                                type: 'value',
                                                axisLabel: {
                                                    show: true,
                                                    interval: 'auto',
                                                    formatter: '{value} %'
                                                },
                                                show: true
                                            }
                                        ],
                                        series: [{
                                            name: '通过率',
                                            data: rate,
                                            type: 'line',
                                            color: '#8cd5a9',
                                            areaStyle: {},
                                        }],
                                        dataZoom: [
                                            {   // 这个dataZoom组件，默认控制x轴。
                                                type: 'slider', // 这个 dataZoom 组件是 slider 型 dataZoom 组件
                                                start: 0,      // 左边在 10% 的位置。
                                                end: 100         // 右边在 60% 的位置。
                                            }
                                        ],
                                        label: {
                                            show: true,
                                            interval: 'auto',
                                            rotate: 0,
                                            formatter: '{c} %',
                                            textStyle: {
                                                color: '#333'
                                            }
                                        },
                                        toolbox: {
                                            show: true,
                                            orient: 'horizontal',
                                            feature: {
                                                dataZoom: {
                                                    yAxisIndex: 'none'
                                                },
                                                magicType: {type: ['line', 'bar']},
                                                restore: {},
                                                saveAsImage: {}
                                            }
                                        },

                                    })
                                }

                            }
                        })


                        mychart.setOption(option);
                    </script>
                </div>


                <div class="table-responsive col-md-6" style="height: 410px;min-height: 100px;width:50%;margin: 0 auto">
                    {#                <h2 class="sub-header" style="width:50%;margin: 0 auto" >Section title</h2>#}
                    <table class="table table-striped">
                        <thead>
                        <tr>
                            <th>CI ID</th>
                            <th>测试执行时间</th>
                            <th>通过率</th>
                            <th>报告详情</th>
                            <th>失败原因</th>
                        </tr>
                        </thead>
                        <tbody>
                        <tr>
                            <td>1,001</td>
                            <td>Lorem</td>
                            <td>ipsum</td>
                            <td>dolor</td>
                            <td>sit</td>
                        </tr>
                        <tr>
                            <td>1,002</td>
                            <td>amet</td>
                            <td>consectetur</td>
                            <td>adipiscing</td>
                            <td>elit</td>
                        </tr>
                        <tr>
                            <td>1,003</td>
                            <td>Integer</td>
                            <td>nec</td>
                            <td>odio</td>
                            <td>Praesent</td>
                        </tr>
                        <tr>
                            <td>1,003</td>
                            <td>libero</td>
                            <td>Sed</td>
                            <td>cursus</td>
                            <td>ante</td>
                        </tr>
                        <tr>
                            <td>1,004</td>
                            <td>dapibus</td>
                            <td>diam</td>
                            <td>Sed</td>
                            <td>nisi</td>
                        </tr>
                        <tr>
                            <td>1,005</td>
                            <td>Nulla</td>
                            <td>quis</td>
                            <td>sem</td>
                            <td>at</td>
                        </tr>
                        <tr>
                            <td>1,006</td>
                            <td>nibh</td>
                            <td>elementum</td>
                            <td>imperdiet</td>
                            <td>Duis</td>
                        </tr>
                        <tr>
                            <td>1,007</td>
                            <td>sagittis</td>
                            <td>ipsum</td>
                            <td>Praesent</td>
                            <td>mauris</td>
                        </tr>
                        <tr>
                            <td>1,008</td>
                            <td>Fusce</td>
                            <td>nec</td>
                            <td>tellus</td>
                            <td>sed</td>
                        </tr>
                        <tr>
                            <td>1,009</td>
                            <td>augue</td>
                            <td>semper</td>
                            <td>porta</td>
                            <td>Mauris</td>
                        </tr>
                        <tr>
                            <td>1,010</td>
                            <td>massa</td>
                            <td>Vestibulum</td>
                            <td>lacinia</td>
                            <td>arcu</td>
                        </tr>
                        <tr>
                            <td>1,011</td>
                            <td>eget</td>
                            <td>nulla</td>
                            <td>Class</td>
                            <td>aptent</td>
                        </tr>
                        <tr>
                            <td>1,012</td>
                            <td>taciti</td>
                            <td>sociosqu</td>
                            <td>ad</td>
                            <td>litora</td>
                        </tr>
                        <tr>
                            <td>1,013</td>
                            <td>torquent</td>
                            <td>per</td>
                            <td>conubia</td>
                            <td>nostra</td>
                        </tr>
                        <tr>
                            <td>1,014</td>
                            <td>per</td>
                            <td>inceptos</td>
                            <td>himenaeos</td>
                            <td>Curabitur</td>
                        </tr>
                        <tr>
                            <td>1,015</td>
                            <td>sodales</td>
                            <td>ligula</td>
                            <td>in</td>
                            <td>libero</td>
                        </tr>
                        </tbody>
                    </table>
                </div>
            </div>
            <hr>

            <div class="row" id="tab2">

                <div style="height: 410px;min-height: 100px;width:50%;margin: 0 auto" id="mychartmain2"
                     class="col-md-6">
                    <script type="text/javascript">
                        var mychart = echarts.init(document.getElementById("mychartmain2"))
                        option = {
                            xAxis: {
                                type: 'category',
                                boundaryGap: false,
                                data: ['Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat', 'Sun']
                            },
                            yAxis: {
                                type: 'value'
                            },
                            series: [{
                                data: [820, 932, 901, 934, 1290, 1330, 1320],
                                type: 'line',
                                areaStyle: {}
                            }]
                        };
                        mychart.showLoading();
                        var rate = [];
                        var id = []
                        $.ajax({
                            type: "get",
                            async: true,
                            url: "/returnRate/",
                            data: {},
                            dataType: "json",
                            success: function (result) {
                                if (result != null && result.length > 0) {
                                    for (var i = 0; i < result.length; i++) {
                                        rate.push(result[i].rate);
                                        id.push(result[i].id);
                                    }
                                    mychart.hideLoading();
                                    mychart.setOption({
                                        title: {
                                            text: '接口测试通过率'
                                        },
                                        legend: {
                                            data: ['通过率']
                                        },
                                        xAxis: {
                                            data: id
                                        },
                                        yAxis: [
                                            {
                                                type: 'value',
                                                axisLabel: {
                                                    show: true,
                                                    interval: 'auto',
                                                    formatter: '{value} %'
                                                },
                                                show: true
                                            }
                                        ],
                                        series: [{
                                            name: '通过率',
                                            data: rate,
                                            type: 'line',
                                            color: '#8cd5a9',
                                            areaStyle: {},
                                        }],
                                        dataZoom: [
                                            {   // 这个dataZoom组件，默认控制x轴。
                                                type: 'slider', // 这个 dataZoom 组件是 slider 型 dataZoom 组件
                                                start: 0,      // 左边在 10% 的位置。
                                                end: 100         // 右边在 60% 的位置。
                                            }
                                        ],
                                        label: {
                                            show: true,
                                            interval: 'auto',
                                            rotate: 0,
                                            formatter: '{c} %',
                                            textStyle: {
                                                color: '#333'
                                            }
                                        },
                                        toolbox: {
                                            show: true,
                                            feature: {
                                                dataZoom: {
                                                    yAxisIndex: 'none'
                                                },
                                                dataView: {readOnly: false},
                                                magicType: {type: ['line', 'bar']},
                                                restore: {},
                                                saveAsImage: {}
                                            }
                                        },

                                    })
                                }

                            }
                        })


                        mychart.setOption(option);
                    </script>
                </div>


                <div class="table-responsive col-md-6" style="height: 410px;min-height: 100px;width:50%;margin: 0 auto">
                    {#                <h2 class="sub-header" style="width:50%;margin: 0 auto" >Section title</h2>#}
                    <table class="table table-striped">
                        <thead>
                        <tr>
                            <th>#</th>
                            <th>Header</th>
                            <th>Header</th>
                            <th>Header</th>
                            <th>Header</th>
                        </tr>
                        </thead>
                        <tbody>
                        <tr>
                            <td>1,001</td>
                            <td>Lorem</td>
                            <td>ipsum</td>
                            <td>dolor</td>
                            <td>sit</td>
                        </tr>
                        <tr>
                            <td>1,002</td>
                            <td>amet</td>
                            <td>consectetur</td>
                            <td>adipiscing</td>
                            <td>elit</td>
                        </tr>
                        <tr>
                            <td>1,003</td>
                            <td>Integer</td>
                            <td>nec</td>
                            <td>odio</td>
                            <td>Praesent</td>
                        </tr>
                        <tr>
                            <td>1,003</td>
                            <td>libero</td>
                            <td>Sed</td>
                            <td>cursus</td>
                            <td>ante</td>
                        </tr>
                        <tr>
                            <td>1,004</td>
                            <td>dapibus</td>
                            <td>diam</td>
                            <td>Sed</td>
                            <td>nisi</td>
                        </tr>
                        <tr>
                            <td>1,005</td>
                            <td>Nulla</td>
                            <td>quis</td>
                            <td>sem</td>
                            <td>at</td>
                        </tr>
                        <tr>
                            <td>1,006</td>
                            <td>nibh</td>
                            <td>elementum</td>
                            <td>imperdiet</td>
                            <td>Duis</td>
                        </tr>
                        <tr>
                            <td>1,007</td>
                            <td>sagittis</td>
                            <td>ipsum</td>
                            <td>Praesent</td>
                            <td>mauris</td>
                        </tr>
                        <tr>
                            <td>1,008</td>
                            <td>Fusce</td>
                            <td>nec</td>
                            <td>tellus</td>
                            <td>sed</td>
                        </tr>
                        <tr>
                            <td>1,009</td>
                            <td>augue</td>
                            <td>semper</td>
                            <td>porta</td>
                            <td>Mauris</td>
                        </tr>
                        <tr>
                            <td>1,010</td>
                            <td>massa</td>
                            <td>Vestibulum</td>
                            <td>lacinia</td>
                            <td>arcu</td>
                        </tr>
                        <tr>
                            <td>1,011</td>
                            <td>eget</td>
                            <td>nulla</td>
                            <td>Class</td>
                            <td>aptent</td>
                        </tr>
                        <tr>
                            <td>1,012</td>
                            <td>taciti</td>
                            <td>sociosqu</td>
                            <td>ad</td>
                            <td>litora</td>
                        </tr>
                        <tr>
                            <td>1,013</td>
                            <td>torquent</td>
                            <td>per</td>
                            <td>conubia</td>
                            <td>nostra</td>
                        </tr>
                        <tr>
                            <td>1,014</td>
                            <td>per</td>
                            <td>inceptos</td>
                            <td>himenaeos</td>
                            <td>Curabitur</td>
                        </tr>
                        <tr>
                            <td>1,015</td>
                            <td>sodales</td>
                            <td>ligula</td>
                            <td>in</td>
                            <td>libero</td>
                        </tr>
                        </tbody>
                    </table>
                </div>
            </div>


        </div>
    </div>
</div>

<!-- Bootstrap core JavaScript
================================================== -->
<!-- Placed at the end of the document so the pages load faster -->

<script src="/static/js/bootstrap.min.js"></script>
<!-- Just to make our placeholder images work. Don't actually copy the next line! -->
<script src="/static/js/holder.min.js"></script>
<!-- IE10 viewport hack for Surface/desktop Windows 8 bug -->
<script src="/static/js/ie10-viewport-bug-workaround.js"></script>

</body>
</html>
